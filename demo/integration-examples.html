<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emotive Engine - Integration Examples</title>
    <style>
        * {
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #1a1a1a 0%, #2d2d2d 100%);
            color: #ffffff;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            margin: 0;
            font-size: 2.5em;
            background: linear-gradient(45deg, #4ECDC4, #44A08D, #093637);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .example-section {
            background: #2a2a2a;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
            border: 1px solid #444;
        }
        
        .example-section h3 {
            margin: 0 0 15px 0;
            color: #4ECDC4;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .example-section h3::before {
            content: "â–¶";
            color: #FFD700;
        }
        
        .canvas-container {
            text-align: center;
            margin-bottom: 15px;
        }
        
        canvas {
            border: 2px solid #444;
            border-radius: 8px;
            background: radial-gradient(circle at center, #111 0%, #000 100%);
            box-shadow: inset 0 0 30px rgba(0, 0, 0, 0.5);
        }
        
        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 15px;
        }
        
        button {
            padding: 8px 16px;
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 13px;
            font-weight: 500;
            transition: all 0.2s ease;
        }
        
        button:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(76, 175, 80, 0.3);
        }
        
        button:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .ai-btn {
            background: linear-gradient(135deg, #2196F3 0%, #1976D2 100%);
        }
        
        .ai-btn:hover {
            box-shadow: 0 4px 12px rgba(33, 150, 243, 0.3);
        }
        
        .chat-btn {
            background: linear-gradient(135deg, #FF9800 0%, #F57C00 100%);
        }
        
        .chat-btn:hover {
            box-shadow: 0 4px 12px rgba(255, 152, 0, 0.3);
        }
        
        .mobile-btn {
            background: linear-gradient(135deg, #9C27B0 0%, #7B1FA2 100%);
        }
        
        .mobile-btn:hover {
            box-shadow: 0 4px 12px rgba(156, 39, 176, 0.3);
        }
        
        .chat-interface {
            background: #333;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .chat-message {
            margin-bottom: 10px;
            padding: 8px 12px;
            border-radius: 8px;
            max-width: 80%;
        }
        
        .chat-message.user {
            background: #4CAF50;
            margin-left: auto;
            text-align: right;
        }
        
        .chat-message.ai {
            background: #2196F3;
            margin-right: auto;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .chat-input input {
            flex: 1;
            padding: 10px;
            border: 1px solid #555;
            border-radius: 6px;
            background: #444;
            color: white;
            font-size: 14px;
        }
        
        .chat-input input:focus {
            outline: none;
            border-color: #4ECDC4;
        }
        
        .status-display {
            background: #1a1a1a;
            border-radius: 6px;
            padding: 10px;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            margin-bottom: 15px;
        }
        
        .status-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .status-item:last-child {
            margin-bottom: 0;
        }
        
        .code-example {
            background: #1a1a1a;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            overflow-x: auto;
            border-left: 4px solid #4ECDC4;
        }
        
        .code-example h4 {
            margin: 0 0 10px 0;
            color: #4ECDC4;
            font-family: inherit;
        }
        
        .code-example pre {
            margin: 0;
            color: #ccc;
        }
        
        .gesture-pattern {
            display: flex;
            gap: 5px;
            align-items: center;
            margin: 5px 0;
            font-size: 12px;
        }
        
        .gesture-step {
            background: #FF9800;
            color: white;
            padding: 2px 6px;
            border-radius: 4px;
        }
        
        .gesture-arrow {
            color: #666;
        }
        
        .mobile-controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .touch-area {
            background: #444;
            border: 2px dashed #666;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s ease;
            user-select: none;
        }
        
        .touch-area:hover {
            border-color: #4ECDC4;
            background: #555;
        }
        
        .touch-area.active {
            border-color: #FFD700;
            background: #555;
            transform: scale(0.95);
        }
        
        .error-demo {
            background: #2a1a1a;
            border: 1px solid #f44336;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .error-demo h4 {
            margin: 0 0 10px 0;
            color: #f44336;
        }
        
        .error-log {
            background: #1a0a0a;
            border-radius: 4px;
            padding: 10px;
            font-family: 'Courier New', monospace;
            font-size: 11px;
            max-height: 100px;
            overflow-y: auto;
        }
        
        .error-entry {
            color: #f44336;
            margin-bottom: 5px;
        }
        
        .warning-entry {
            color: #FF9800;
            margin-bottom: 5px;
        }
        
        @media (max-width: 768px) {
            .examples-grid {
                grid-template-columns: 1fr;
            }
            
            .mobile-controls {
                grid-template-columns: repeat(2, 1fr);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Integration Examples & Usage Patterns</h1>
            <p>Real-world examples of integrating the Emotive Communication Engine</p>
        </div>
        
        <div class="examples-grid">
            <!-- AI Agent Integration Example -->
            <div class="example-section">
                <h3>AI Agent Integration</h3>
                <div class="canvas-container">
                    <canvas id="ai-canvas" width="300" height="200"></canvas>
                </div>
                
                <div class="controls">
                    <button class="ai-btn" id="ai-start">Start AI Agent</button>
                    <button class="ai-btn" id="ai-thinking">Thinking</button>
                    <button class="ai-btn" id="ai-confident">Confident</button>
                    <button class="ai-btn" id="ai-uncertain">Uncertain</button>
                </div>
                
                <div class="status-display">
                    <div class="status-item">
                        <span>AI State:</span>
                        <span id="ai-state">Idle</span>
                    </div>
                    <div class="status-item">
                        <span>Confidence:</span>
                        <span id="ai-confidence">0%</span>
                    </div>
                    <div class="status-item">
                        <span>Processing:</span>
                        <span id="ai-processing">No</span>
                    </div>
                </div>
                
                <div class="code-example">
                    <h4>AI Response Mapping</h4>
                    <pre>// Map AI confidence to emotions
const mapConfidenceToEmotion = (confidence) => {
  if (confidence > 0.8) return 'joy';
  if (confidence > 0.6) return 'neutral';
  if (confidence > 0.4) return 'fear';
  return 'sadness';
};

// Express AI thinking process
mascot.setEmotion('neutral', 'nervous')
      .express('pulse')
      .chain('nod', 'flash');</pre>
                </div>
            </div>
            
            <!-- Chatbot Integration Example -->
            <div class="example-section">
                <h3>Chatbot with Speech Reactivity</h3>
                <div class="canvas-container">
                    <canvas id="chat-canvas" width="300" height="200"></canvas>
                </div>
                
                <div class="chat-interface" id="chat-messages">
                    <div class="chat-message ai">Hello! I'm your AI assistant. How can I help you today?</div>
                </div>
                
                <div class="chat-input">
                    <input type="text" id="chat-input" placeholder="Type your message..." maxlength="100">
                    <button class="chat-btn" id="send-message">Send</button>
                </div>
                
                <div class="controls">
                    <button class="chat-btn" id="start-speech">Enable Speech</button>
                    <button class="chat-btn" id="simulate-typing">Simulate Typing</button>
                    <button class="chat-btn" id="simulate-listening">Simulate Listening</button>
                </div>
                
                <div class="code-example">
                    <h4>Chatbot Integration</h4>
                    <pre>// Respond to user input
const respondToMessage = (message) => {
  mascot.setEmotion('joy', 'confident')
        .express('nod');
  
  // Simulate speech during response
  mascot.startSpeaking(audioContext);
  setTimeout(() => {
    mascot.stopSpeaking();
  }, 2000);
};</pre>
                </div>
            </div>
            
            <!-- Gesture Chaining Patterns -->
            <div class="example-section">
                <h3>Common Gesture Patterns</h3>
                <div class="canvas-container">
                    <canvas id="pattern-canvas" width="300" height="200"></canvas>
                </div>
                
                <div class="controls">
                    <button id="greeting-pattern">Greeting</button>
                    <button id="thinking-pattern">Thinking</button>
                    <button id="celebration-pattern">Celebration</button>
                    <button id="error-pattern">Error</button>
                </div>
                
                <div style="margin: 15px 0;">
                    <h4 style="margin: 0 0 10px 0; color: #ccc;">Pattern Examples:</h4>
                    
                    <div class="gesture-pattern">
                        <strong>Greeting:</strong>
                        <span class="gesture-step">bounce</span>
                        <span class="gesture-arrow">â†’</span>
                        <span class="gesture-step">nod</span>
                        <span class="gesture-arrow">â†’</span>
                        <span class="gesture-step">pulse</span>
                    </div>
                    
                    <div class="gesture-pattern">
                        <strong>Thinking:</strong>
                        <span class="gesture-step">tilt</span>
                        <span class="gesture-arrow">â†’</span>
                        <span class="gesture-step">pulse</span>
                        <span class="gesture-arrow">â†’</span>
                        <span class="gesture-step">nod</span>
                    </div>
                    
                    <div class="gesture-pattern">
                        <strong>Celebration:</strong>
                        <span class="gesture-step">bounce</span>
                        <span class="gesture-arrow">â†’</span>
                        <span class="gesture-step">spin</span>
                        <span class="gesture-arrow">â†’</span>
                        <span class="gesture-step">flash</span>
                    </div>
                </div>
                
                <div class="code-example">
                    <h4>Gesture Pattern Library</h4>
                    <pre>const patterns = {
  greeting: ['bounce', 'nod', 'pulse'],
  thinking: ['tilt', 'pulse', 'nod'],
  celebration: ['bounce', 'spin', 'flash'],
  error: ['shake', 'contract', 'flash']
};

mascot.chain(...patterns.greeting);</pre>
                </div>
            </div>
            
            <!-- Mobile Touch Integration -->
            <div class="example-section">
                <h3>Mobile Touch Integration</h3>
                <div class="canvas-container">
                    <canvas id="mobile-canvas" width="300" height="200"></canvas>
                </div>
                
                <div class="mobile-controls">
                    <div class="touch-area" data-gesture="tap">
                        <div>ðŸ‘†</div>
                        <div>Tap</div>
                    </div>
                    <div class="touch-area" data-gesture="hold">
                        <div>âœ‹</div>
                        <div>Hold</div>
                    </div>
                    <div class="touch-area" data-gesture="swipe">
                        <div>ðŸ‘ˆ</div>
                        <div>Swipe</div>
                    </div>
                </div>
                
                <div class="status-display">
                    <div class="status-item">
                        <span>Touch Type:</span>
                        <span id="touch-type">None</span>
                    </div>
                    <div class="status-item">
                        <span>Duration:</span>
                        <span id="touch-duration">0ms</span>
                    </div>
                    <div class="status-item">
                        <span>Gesture:</span>
                        <span id="touch-gesture">None</span>
                    </div>
                </div>
                
                <div class="code-example">
                    <h4>Touch Event Mapping</h4>
                    <pre>// Map touch events to emotions/gestures
const handleTouch = (type, duration) => {
  switch(type) {
    case 'tap':
      mascot.express('pulse');
      break;
    case 'hold':
      mascot.setEmotion('joy', 'confident');
      break;
    case 'swipe':
      mascot.chain('drift', 'bounce');
      break;
  }
};</pre>
                </div>
            </div>
            
            <!-- Error Handling Example -->
            <div class="example-section">
                <h3>Error Handling & Recovery</h3>
                <div class="canvas-container">
                    <canvas id="error-canvas" width="300" height="200"></canvas>
                </div>
                
                <div class="controls">
                    <button id="trigger-error">Trigger Error</button>
                    <button id="invalid-emotion">Invalid Emotion</button>
                    <button id="invalid-gesture">Invalid Gesture</button>
                    <button id="recovery-test">Test Recovery</button>
                </div>
                
                <div class="error-demo">
                    <h4>Error Log</h4>
                    <div class="error-log" id="error-log">
                        <div style="color: #666;">No errors logged yet...</div>
                    </div>
                </div>
                
                <div class="code-example">
                    <h4>Error Handling Strategy</h4>
                    <pre>// Graceful error handling
try {
  mascot.setEmotion(userEmotion);
} catch (error) {
  console.warn('Invalid emotion:', error);
  mascot.setEmotion('neutral'); // Fallback
}

// Event-based error monitoring
mascot.on('error', (error) => {
  logError(error);
  showUserFeedback('Something went wrong');
});</pre>
                </div>
            </div>
            
            <!-- Performance Optimization -->
            <div class="example-section">
                <h3>Performance Optimization</h3>
                <div class="canvas-container">
                    <canvas id="perf-canvas" width="300" height="200"></canvas>
                </div>
                
                <div class="controls">
                    <button id="optimize-particles">Optimize Particles</button>
                    <button id="reduce-quality">Reduce Quality</button>
                    <button id="mobile-mode">Mobile Mode</button>
                    <button id="restore-quality">Restore Quality</button>
                </div>
                
                <div class="status-display">
                    <div class="status-item">
                        <span>FPS:</span>
                        <span id="perf-fps">0</span>
                    </div>
                    <div class="status-item">
                        <span>Particles:</span>
                        <span id="perf-particles">0</span>
                    </div>
                    <div class="status-item">
                        <span>Quality:</span>
                        <span id="perf-quality">High</span>
                    </div>
                </div>
                
                <div class="code-example">
                    <h4>Adaptive Performance</h4>
                    <pre>// Detect device capabilities
const isMobile = /Mobile|Android|iPhone/i.test(navigator.userAgent);
const isLowEnd = navigator.hardwareConcurrency < 4;

// Adjust settings accordingly
const config = {
  maxParticles: isMobile ? 25 : 50,
  targetFPS: isLowEnd ? 30 : 60,
  enableAudio: !isMobile
};

const mascot = new EmotiveMascot(config);</pre>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        import EmotiveMascot from '../src/EmotiveMascot.js';

        // Initialize all mascots
        const mascots = {
            ai: new EmotiveMascot({ canvasId: 'ai-canvas', enableAudio: false }),
            chat: new EmotiveMascot({ canvasId: 'chat-canvas', enableAudio: true }),
            pattern: new EmotiveMascot({ canvasId: 'pattern-canvas', enableAudio: false }),
            mobile: new EmotiveMascot({ canvasId: 'mobile-canvas', enableAudio: false }),
            error: new EmotiveMascot({ canvasId: 'error-canvas', enableAudio: false }),
            perf: new EmotiveMascot({ canvasId: 'perf-canvas', enableAudio: false })
        };

        // Start all mascots
        Object.values(mascots).forEach(mascot => mascot.start());

        // AI Agent Integration Example
        let aiState = 'idle';
        let aiConfidence = 0;
        let aiProcessing = false;

        const updateAIDisplay = () => {
            document.getElementById('ai-state').textContent = aiState;
            document.getElementById('ai-confidence').textContent = `${Math.round(aiConfidence * 100)}%`;
            document.getElementById('ai-processing').textContent = aiProcessing ? 'Yes' : 'No';
        };

        const simulateAIThinking = () => {
            aiState = 'thinking';
            aiProcessing = true;
            updateAIDisplay();
            
            mascots.ai.setEmotion('neutral', 'nervous').express('pulse');
            
            // Simulate processing time
            setTimeout(() => {
                aiConfidence = Math.random();
                aiState = 'responding';
                aiProcessing = false;
                
                const emotion = aiConfidence > 0.7 ? 'joy' : aiConfidence > 0.4 ? 'neutral' : 'fear';
                const undertone = aiConfidence > 0.8 ? 'confident' : aiConfidence < 0.3 ? 'nervous' : null;
                
                mascots.ai.setEmotion(emotion, undertone).chain('nod', 'flash');
                updateAIDisplay();
            }, 2000);
        };

        document.getElementById('ai-start').addEventListener('click', () => {
            aiState = 'active';
            aiConfidence = 0.8;
            aiProcessing = false;
            mascots.ai.setEmotion('joy', 'confident').express('bounce');
            updateAIDisplay();
        });

        document.getElementById('ai-thinking').addEventListener('click', simulateAIThinking);
        
        document.getElementById('ai-confident').addEventListener('click', () => {
            aiConfidence = 0.9;
            aiState = 'confident';
            mascots.ai.setEmotion('joy', 'confident').chain('bounce', 'pulse');
            updateAIDisplay();
        });
        
        document.getElementById('ai-uncertain').addEventListener('click', () => {
            aiConfidence = 0.2;
            aiState = 'uncertain';
            mascots.ai.setEmotion('fear', 'nervous').express('shake');
            updateAIDisplay();
        });

        // Chatbot Integration Example
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        let speechContext = null;

        const addChatMessage = (message, isUser = false) => {
            const messageEl = document.createElement('div');
            messageEl.className = `chat-message ${isUser ? 'user' : 'ai'}`;
            messageEl.textContent = message;
            chatMessages.appendChild(messageEl);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        };

        const simulateAIResponse = (userMessage) => {
            // Show thinking
            mascots.chat.setEmotion('neutral', 'nervous').express('tilt');
            
            setTimeout(() => {
                const responses = [
                    "That's interesting! Let me think about that.",
                    "I understand what you're asking.",
                    "Great question! Here's what I think...",
                    "I'm happy to help with that!",
                    "Let me process that information."
                ];
                
                const response = responses[Math.floor(Math.random() * responses.length)];
                addChatMessage(response);
                
                // Show confident response
                mascots.chat.setEmotion('joy', 'confident').chain('nod', 'pulse');
                
                // Simulate speech if enabled
                if (speechContext) {
                    mascots.chat.startSpeaking(speechContext);
                    setTimeout(() => {
                        mascots.chat.stopSpeaking();
                    }, 2000);
                }
            }, 1500);
        };

        document.getElementById('send-message').addEventListener('click', () => {
            const message = chatInput.value.trim();
            if (message) {
                addChatMessage(message, true);
                chatInput.value = '';
                simulateAIResponse(message);
            }
        });

        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                document.getElementById('send-message').click();
            }
        });

        document.getElementById('start-speech').addEventListener('click', async () => {
            try {
                speechContext = new (window.AudioContext || window.webkitAudioContext)();
                document.getElementById('start-speech').textContent = 'Speech Enabled';
                document.getElementById('start-speech').disabled = true;
            } catch (error) {
                console.warn('Speech not available:', error);
            }
        });

        document.getElementById('simulate-typing').addEventListener('click', () => {
            mascots.chat.setEmotion('neutral', 'focused').express('pulse');
        });

        document.getElementById('simulate-listening').addEventListener('click', () => {
            mascots.chat.setEmotion('surprise', 'attentive').express('tilt');
        });

        // Gesture Pattern Examples
        const patterns = {
            greeting: ['bounce', 'nod', 'pulse'],
            thinking: ['tilt', 'pulse', 'nod'],
            celebration: ['bounce', 'spin', 'flash'],
            error: ['shake', 'contract', 'flash']
        };

        document.getElementById('greeting-pattern').addEventListener('click', () => {
            mascots.pattern.setEmotion('joy').chain(...patterns.greeting);
        });

        document.getElementById('thinking-pattern').addEventListener('click', () => {
            mascots.pattern.setEmotion('neutral', 'nervous').chain(...patterns.thinking);
        });

        document.getElementById('celebration-pattern').addEventListener('click', () => {
            mascots.pattern.setEmotion('joy', 'intense').chain(...patterns.celebration);
        });

        document.getElementById('error-pattern').addEventListener('click', () => {
            mascots.pattern.setEmotion('anger', 'intense').chain(...patterns.error);
        });

        // Mobile Touch Integration
        let touchStartTime = 0;
        let touchType = 'none';

        const updateTouchDisplay = (type, duration, gesture) => {
            document.getElementById('touch-type').textContent = type;
            document.getElementById('touch-duration').textContent = `${duration}ms`;
            document.getElementById('touch-gesture').textContent = gesture;
        };

        document.querySelectorAll('.touch-area').forEach(area => {
            const gestureType = area.dataset.gesture;
            
            area.addEventListener('mousedown', () => {
                touchStartTime = Date.now();
                touchType = gestureType;
                area.classList.add('active');
                updateTouchDisplay(gestureType, 0, 'detecting...');
            });
            
            area.addEventListener('mouseup', () => {
                const duration = Date.now() - touchStartTime;
                area.classList.remove('active');
                
                let gesture = 'none';
                let emotion = 'neutral';
                
                switch (gestureType) {
                    case 'tap':
                        if (duration < 200) {
                            gesture = 'pulse';
                            emotion = 'joy';
                        }
                        break;
                    case 'hold':
                        if (duration > 500) {
                            gesture = 'expand';
                            emotion = 'love';
                        }
                        break;
                    case 'swipe':
                        gesture = 'drift';
                        emotion = 'surprise';
                        break;
                }
                
                if (gesture !== 'none') {
                    mascots.mobile.setEmotion(emotion).express(gesture);
                }
                
                updateTouchDisplay(gestureType, duration, gesture);
            });
        });

        // Error Handling Example
        const errorLog = document.getElementById('error-log');
        
        const logError = (message, type = 'error') => {
            const entry = document.createElement('div');
            entry.className = `${type}-entry`;
            entry.textContent = `${new Date().toLocaleTimeString()}: ${message}`;
            errorLog.insertBefore(entry, errorLog.firstChild);
            
            // Keep only last 10 entries
            while (errorLog.children.length > 10) {
                errorLog.removeChild(errorLog.lastChild);
            }
        };

        // Set up error monitoring
        mascots.error.on('error', (error) => {
            logError(`Error caught: ${error.message}`);
        });

        document.getElementById('trigger-error').addEventListener('click', () => {
            try {
                throw new Error('Simulated error for testing');
            } catch (error) {
                logError(error.message);
                mascots.error.setEmotion('anger').express('shake');
            }
        });

        document.getElementById('invalid-emotion').addEventListener('click', () => {
            try {
                mascots.error.setEmotion('invalid-emotion');
                logError('Invalid emotion handled gracefully', 'warning');
            } catch (error) {
                logError(`Invalid emotion error: ${error.message}`);
            }
        });

        document.getElementById('invalid-gesture').addEventListener('click', () => {
            try {
                mascots.error.express('invalid-gesture');
                logError('Invalid gesture handled gracefully', 'warning');
            } catch (error) {
                logError(`Invalid gesture error: ${error.message}`);
            }
        });

        document.getElementById('recovery-test').addEventListener('click', () => {
            mascots.error.setEmotion('neutral').express('bounce');
            logError('Recovery successful - returned to normal operation');
        });

        // Performance Optimization Example
        let originalParticleCount = 50;
        let currentQuality = 'high';

        const updatePerfDisplay = () => {
            const metrics = mascots.perf.getPerformanceMetrics();
            document.getElementById('perf-fps').textContent = metrics.fps || 0;
            document.getElementById('perf-particles').textContent = metrics.particleCount || 0;
            document.getElementById('perf-quality').textContent = currentQuality;
        };

        document.getElementById('optimize-particles').addEventListener('click', () => {
            mascots.perf.particleSystem.setMaxParticles(25);
            currentQuality = 'optimized';
            updatePerfDisplay();
        });

        document.getElementById('reduce-quality').addEventListener('click', () => {
            mascots.perf.particleSystem.setMaxParticles(10);
            currentQuality = 'low';
            updatePerfDisplay();
        });

        document.getElementById('mobile-mode').addEventListener('click', () => {
            mascots.perf.particleSystem.setMaxParticles(15);
            mascots.perf.config.targetFPS = 30;
            currentQuality = 'mobile';
            updatePerfDisplay();
        });

        document.getElementById('restore-quality').addEventListener('click', () => {
            mascots.perf.particleSystem.setMaxParticles(originalParticleCount);
            mascots.perf.config.targetFPS = 60;
            currentQuality = 'high';
            updatePerfDisplay();
        });

        // Update performance display periodically
        setInterval(updatePerfDisplay, 1000);

        // Initialize displays
        updateAIDisplay();
        updateTouchDisplay('none', 0, 'none');
        updatePerfDisplay();

        console.log('Integration examples loaded successfully');
    </script>
</body>
</html>