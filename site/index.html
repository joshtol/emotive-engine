<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EMOTIVE A.I. Core - Neural Interface</title>
    <link rel="icon" type="image/svg+xml" href="../assets/emotive-engine-icon.svg" data-asset="favicon">
    <!-- Google Fonts for Poppins and Montserrat -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&family=Montserrat:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- Modular CSS System -->
    <link rel="stylesheet" href="emotive-scifi-modular.css">
    <!-- Note: header.css is now included in the modular system -->
</head>
<body class="dark">
    <!-- Header -->
    <header class="page-header">
        <div class="header-content">
            <img id="logo-image" class="header-logo" src="../assets/emotive-engine-full-BW.svg" alt="Emotive Engine">
            <div class="header-title">NEURAL INTERFACE</div>
        </div>
    </header>
    <a href="#display-container" class="skip-nav">Skip to main content</a>

    <div class="hero-spacer"></div>
    <main class="main-layout" role="main">
        
        <nav class="controls-left left-menu" role="navigation" aria-label="Emotion controls">
            <!-- Audio Visualizer Section -->
            <div class="control-section" id="audio-viz-section">
                <div class="section-header center-header">
                    <h3 class="section-title">AUDIO VISUALIZER</h3>
                </div>
                <div id="audio-viz" class="audio-viz-container">
                    <!-- Animated background effect -->
                    <div class="glow-bg-effect"></div>

                    <!-- Audio player overlay (top-right safe zone) -->
                    <div class="audio-player-container" id="audio-player-container">
                        <audio id="audio-player" controls class="audio-player"></audio>
                    </div>

                    <!-- Frequency spectrum visualizer -->
                    <div id="spectrum-viz" class="spectrum-viz">
                        <!-- Bars will be dynamically created -->
                    </div>
                </div>
            </div>

            <!-- Hidden file input -->
            <input type="file" id="audio-file" accept="audio/*" class="hidden">

            <!-- Chain Combos Section -->
            <div class="control-section">
                <div class="combo-categories">
                    <div class="combo-group">
                        <div class="section-header left-align">
                            <button class="dice-btn" id="randomize-chain-btn" aria-label="Random chain" title="Random"></button>
                            <h3 class="section-title">CHAIN COMBOS</h3>
                        </div>
                        <div class="combo-controls-container">
                            <!-- Animated background effect -->
                            <div class="glow-bg-effect"></div>
                        <div class="btn-group chain-group" role="group" aria-label="Chain combinations">
                            <button class="sci-fi-btn chain-btn" data-chain="buildup">Build</button>
                            <button class="sci-fi-btn chain-btn" data-chain="cascade">Cascade</button>
                            <button class="sci-fi-btn chain-btn" data-chain="celebrate">Celebrate</button>
                            <button class="sci-fi-btn chain-btn" data-chain="smooth">Smooth</button>
                            <button class="sci-fi-btn chain-btn" data-chain="chaos">Chaos</button>
                            <button class="sci-fi-btn chain-btn" data-chain="custom">Custom</button>
                        </div>
                        </div> <!-- Close combo-controls-container -->
                    </div>
                </div>
            </div>

            <!-- Glow Effects -->
            <div class="control-section">
                <div class="glow-categories">
                    <div class="glow-group">
                        <div class="section-header left-align">
                            <button class="dice-btn" id="randomize-glow-btn" aria-label="Random glow" title="Random"></button>
                            <h3 class="section-title">GLOW EFFECTS</h3>
                        </div>
                        <div class="glow-controls-container">
                            <!-- Animated background effect -->
                            <div class="glow-bg-effect"></div>
                        <div class="btn-group" role="group" aria-label="Glow animations">
                            <button class="sci-fi-btn gesture-btn" data-gesture="sparkle">Sparkle</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="pulse">Pulse</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="glow">Glow</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="flash">Flash</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="shimmer">Shimmer</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="flicker">Flicker</button>
                        </div>
                        </div> <!-- Close glow-controls-container -->
                    </div>
                </div>
            </div>

            <!-- Undertone Modifier Section -->
            <div class="control-section undertone-section">
                <div class="undertone-group">
                    <div class="section-header center-header">
                        <h3 class="section-title">UNDERTONE MODIFIER</h3>
                    </div>
                    <div class="undertone-controls-container">
                        <div class="undertone-slider-container">
                        <div class="flex-between mb-8">
                            <span class="undertone-label">SUBDUED</span>
                            <span class="undertone-label">INTENSE</span>
                        </div>
                        <input type="range" id="undertone-slider" min="-3" max="3" value="0" step="1" class="rhythm-slider">
                    </div>
                    <div class="text-center p-3-0">
                        <span id="undertone-value" class="undertone-value">CLEAR</span>
                    </div>
                    </div> <!-- Close undertone-controls-container -->
                </div>
            </div>

        </nav>

        <div class="center-container">
            <div class="display-and-controls">
                <!-- Left emotion panel (positive) -->
                <div class="emotion-panel emotion-panel-left">
                    <button class="sci-fi-btn emotion-btn active" data-emotion="neutral" aria-label="Neutral" title="Neutral">üòê</button>
                    <button class="sci-fi-btn emotion-btn" data-emotion="calm" aria-label="Calm" title="Calm">üòå</button>
                    <button class="sci-fi-btn emotion-btn" data-emotion="joy" aria-label="Joy" title="Joy">üòä</button>
                    <button class="sci-fi-btn emotion-btn" data-emotion="excited" aria-label="Excited" title="Excited">ü§©</button>
                    <button class="sci-fi-btn emotion-btn" data-emotion="love" aria-label="Love" title="Love">ü•∞</button>
                    <button class="sci-fi-btn emotion-btn" data-emotion="euphoria" aria-label="Euphoria" title="Euphoria">‚ú®</button>
                </div>

                <div id="display-container" class="display-container">
                    <div class="display-content">
                        <canvas id="emotive-canvas"></canvas>
                        <!-- Notification System -->
                        <div id="notification-container" class="notification-container"></div>
                        <!-- Theme Switcher -->
                        <button class="theme-switcher border-none" id="theme-switcher" aria-label="Change theme" type="button">
                            <svg class="theme-icon" id="theme-icon" viewBox="0 0 24 24" fill="currentColor">
                                <!-- Icon path will be replaced dynamically -->
                                <path d="" fill-rule="evenodd"></path>
                            </svg>
                        </button>
                        <div class="holo-element corner-bracket top-left"></div>
                        <div class="holo-element corner-bracket top-right"></div>
                        <div class="holo-element corner-bracket bottom-left"></div>
                        <div class="holo-element corner-bracket bottom-right"></div>
                        <div class="holo-element holo-circle circle-1"></div>
                        <div class="holo-element holo-circle circle-2"></div>
                    </div>
                </div>

                <!-- Right emotion panel (negative) -->
                <div class="emotion-panel emotion-panel-right">
                    <button class="sci-fi-btn emotion-btn" data-emotion="surprise" aria-label="Surprise" title="Surprise">üò≤</button>
                    <button class="sci-fi-btn emotion-btn" data-emotion="fear" aria-label="Fear" title="Fear">üò®</button>
                    <button class="sci-fi-btn emotion-btn" data-emotion="disgust" aria-label="Disgust" title="Disgust">ü§¢</button>
                    <button class="sci-fi-btn emotion-btn" data-emotion="sadness" aria-label="Sadness" title="Sadness">üò¢</button>
                    <button class="sci-fi-btn emotion-btn" data-emotion="anger" aria-label="Anger" title="Anger">üò†</button>
                    <button class="sci-fi-btn emotion-btn" data-emotion="glitch" aria-label="Glitch" title="Glitch">üëæ</button>
                </div>

                <!-- System controls moved outside for proper clickability -->
            </div>
            <!-- Displays positioned at highest level -->
            <div class="holo-element info-display">
                <div class="status-text" id="emotion-display"></div>
                <div class="undertone-text" id="undertone-display"></div>
            </div>
            <div class="fps-display" id="fps-display">
                <span class="fps-value" id="fps-value">0</span>
                <span class="fps-label">FPS</span>
            </div>
            <!-- Shape Controls Hero Bar -->
            <div class="shape-controls-hero">
                <div class="shape-controls">
                    <button class="sci-fi-btn shape-btn" data-shape="heart">‚ô•</button>
                    <button class="sci-fi-btn shape-btn" data-shape="triangle">‚ñ≥</button>
                    <button class="sci-fi-btn shape-btn" data-shape="square">‚ñ°</button>
                    <button class="sci-fi-btn shape-btn active" data-shape="circle">‚óã</button>
                    <button class="sci-fi-btn shape-btn" data-shape="star">‚òÖ</button>
                    <button class="sci-fi-btn shape-btn" data-shape="sun">‚òÄ</button>
                    <button class="sci-fi-btn shape-btn" data-shape="solar">‚òâ</button>
                    <button class="sci-fi-btn shape-btn" data-shape="moon">‚òæ</button>
                    <button class="sci-fi-btn shape-btn" data-shape="lunar">‚óè</button>
                    <button class="dice-btn" id="randomize-shape-btn" aria-label="Random shape" title="Random"></button>
                </div>
            </div>
        </div>

        <!-- System controls moved completely outside center-container -->
        <div class="system-controls" role="group" aria-label="System controls">
            <div class="system-controls-group">
                <button class="sci-fi-btn audio-icon-btn" id="load-audio-btn" aria-label="Play demo song">‚ñ∂</button>
                <button class="sci-fi-btn audio-icon-btn" id="load-song-btn" aria-label="Load audio file">‚ô™</button>
            </div>
            <div class="system-controls-divider"></div>
            <div class="system-controls-group">
                <button class="sci-fi-btn active" id="blinking-toggle" aria-label="Toggle blinking" aria-pressed="true">üëÅ</button>
                <button class="sci-fi-btn" id="gaze-toggle" aria-label="Toggle gaze tracking" aria-pressed="false">üëÄ</button>
                <button class="sci-fi-btn" id="fps-toggle" aria-label="Toggle FPS display" aria-pressed="false">‚ñ£</button>
                <button class="sci-fi-btn" id="record-btn" aria-label="Toggle audio recording" aria-pressed="false">‚óè</button>
                <button class="sci-fi-btn master-dice" id="randomize-all-btn" aria-label="Randomize everything" aria-pressed="false">‚ü≥</button>
            </div>
        </div>

        <!-- Rhythm Sync Visualizer -->
        <div id="rhythm-sync-container"></div>

        <aside class="controls-right right-menu" role="complementary" aria-label="Gesture controls">
            <div class="control-section">
                <div class="gesture-categories">
                    <!-- Dance Gestures -->
                    <div class="gesture-group">
                        <div class="section-header left-align">
                            <button class="dice-btn" id="randomize-dance-btn" aria-label="Random dance" title="Random"></button>
                            <h3 class="section-title">DANCE</h3>
                        </div>
                        <div class="dance-controls-container">
                            <!-- Animated background effect -->
                            <div class="glow-bg-effect"></div>
                            <div class="btn-group" role="group" aria-label="Dance animations">
                            <button class="sci-fi-btn gesture-btn" data-gesture="bounce">Bounce</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="sway">Sway</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="headBob">HeadBob</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="wiggle">Wiggle</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="spin">Spin</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="hula">Hula</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="orbit">Orbit</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="groove">Groove</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="jump">Jump</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="twist">Twist</button>
                        </div>
                        </div> <!-- Close dance-controls-container -->
                    </div>

                    <!-- Overlayable Gestures -->
                    <div class="gesture-group">
                        <div class="section-header left-align">
                            <button class="dice-btn" id="randomize-overlayable-btn" aria-label="Random overlayable" title="Random"></button>
                            <h3 class="section-title">OVERLAYABLE</h3>
                        </div>
                        <div class="overlayable-controls-container">
                            <!-- Animated background effect -->
                            <div class="glow-bg-effect"></div>
                            <div class="btn-group" role="group" aria-label="Overlayable animations">
                            <button class="sci-fi-btn gesture-btn" data-gesture="wave">Wave</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="point">Point</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="nod">Nod</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="shake">Shake</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="lean">Lean</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="tilt">Tilt</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="reach">Reach</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="breathe">Breathe</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="float">Float</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="rain">Rain</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="runningman">RunMan</button>
                            <button class="sci-fi-btn gesture-btn" data-gesture="charleston">Charles</button>
                        </div>
                        </div> <!-- Close overlayable-controls-container -->
                    </div>
                </div>
            </div>
        </aside>

    </main>

    <!-- Footer with trademark and copyright -->
    <footer class="legal-footer">
        <div class="footer-content">
            <!-- Footer content dynamically populated by FooterConfig -->
        </div>
    </footer>

    <!-- UI Modules -->
    <script src="js/ui/theme-manager.js"></script>
    <script src="js/ui/notification-system.js"></script>
    <script src="js/ui/display-manager.js"></script>
    <script src="js/ui/scrollbar-compensator.js"></script>
    <script src="js/ui/dice-roller.js"></script>
    <script src="js/ui/dj-scratcher.js"></script>
    <script src="js/ui/audio-visualizer.js"></script>
    <script src="js/ui/rhythm-sync-visualizer.js"></script>

    <!-- Control Modules -->
    <script src="js/controls/randomizer-controller.js"></script>
    <script src="js/controls/gesture-chain-controller.js"></script>
    <script src="js/controls/undertone-controller.js"></script>
    <script src="js/controls/system-controls-controller.js"></script>
    <script src="js/controls/emotion-controller.js"></script>
    <script src="js/controls/shape-morph-controller.js"></script>
    <script src="js/controls/audio-controller.js"></script>
    <script src="js/controls/dice-controller.js"></script>
    <script src="js/controls/gesture-controller.js"></script>
    <script src="js/controls/orientation-controller.js"></script>

    <!-- Configuration -->
    <script src="js/config/ui-strings.js"></script>
    <script src="js/config/assets-config.js"></script>
    <script src="js/config/icons-config.js"></script>
    <script src="js/config/footer-config.js"></script>

    <!-- Core Application -->
    <script src="js/core/global-state.js"></script>
    <script src="js/core/module-loader.js"></script>
    <script src="js/core/legacy-compatibility.js"></script>
    <script src="js/core/app.js"></script>

    <!-- Bootstrap - Initializes the application -->
    <script src="js/core/app-bootstrap.js"></script>

    <!--
        Application Initialization:
        AppBootstrap automatically handles:
        - Creating and initializing the EmotiveApp instance
        - Setting up all legacy global variables for backward compatibility
        - Loading all modules and controllers
        - Error handling and recovery
        - Theme initialization

        No inline scripts needed - everything is modular!
    -->
</body>
</html>