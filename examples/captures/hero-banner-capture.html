<!DOCTYPE html>
<!--
  HERO BANNER CAPTURE - Emotive Engine

  Purpose: Generate animated hero banner GIF for README/documentation

  This example demonstrates:
  - Full-width banner animations (1280x400px)
  - Emotion sequencing with perfect timing
  - Coordinated shape morphing + gestures
  - Large-scale mascot rendering (2.5x core, 2x particles)
  - Full-banner particle movement (no containment)
  - Aurora background effects
  - Professional capture setup

  Technical showcase:
  - State machine for emotion sequences
  - Timing coordination (emotion + morph + gesture)
  - Scale configuration for banner size
  - Particle system canvas dimensions
  - Containment removal for full freedom

  Use cases:
  1. Generate README hero banners
  2. Create marketing materials
  3. Learn animation sequencing
  4. See professional banner composition

  Complexity: â­â­â­ Advanced
  Demonstrates: Banner-scale animations, professional captures

  Capture instructions:
  1. Open in Chrome/Edge at 100% zoom
  2. Use ScreenToGif - record 1280x400px region
  3. Record for ~13 seconds (full cycle)
  4. Optimize to <2MB
  5. Save as: assets/hero-banner.gif
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1280, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Emotive Engine - Hero Banner Capture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 1280px;
            height: 400px;
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #FFFFFF;
        }

        /* Banner container */
        .banner {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg,
                #0a0a1a 0%,
                #16213e 50%,
                #1a1a2e 100%
            );
            position: relative;
            overflow: visible; /* Allow glow effects to extend beyond */
            border: 4px solid #FFFFFF;
            border-radius: 12px;
            box-sizing: border-box;
        }

        /* Simplified aurora - less competing, more supporting */
        .color-wash {
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            pointer-events: none;
            opacity: 0.25; /* Reduced from 0.35 - more subtle */
            transition: background 3s cubic-bezier(0.4, 0, 0.2, 1); /* Slower transition */
            z-index: 1;
            filter: blur(100px); /* More blur = softer */
            background: radial-gradient(circle at 50% 50%,
                rgba(221, 74, 154, 0.15) 0%,   /* Reduced intensity */
                rgba(64, 144, 206, 0.10) 30%,
                rgba(132, 207, 197, 0.06) 60%,
                transparent 100%
            );
        }

        /* Floating particles layer */
        .particle-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            transition: all 1.2s ease-out;
        }

        .particle.active {
            opacity: 1;
        }

        /* Simple logo - top left corner, minimal */
        .logo-wrapper {
            position: absolute;
            top: 30px;
            left: 40px;
            z-index: 10;
            filter: drop-shadow(0 4px 20px rgba(132, 207, 197, 0.3));
        }

        .logo-wrapper img {
            width: 200px;
            height: auto;
            filter: brightness(0) invert(1);
            opacity: 0.9;
        }


    </style>
</head>
<body>
    <div class="banner">
        <div class="color-wash" id="color-wash"></div>
        <div class="particle-layer" id="particle-layer"></div>

        <!-- Simple logo in corner -->
        <div class="logo-wrapper">
            <img src="../assets/emotive-engine-full-BW.svg" alt="Emotive Engine" class="logo">
        </div>

        <!-- Mascot container - fixed, full banner size -->
        <div id="mascot-container" style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        ">
            <canvas id="mascot-canvas" style="
                width: 100%;
                height: 100%;
                filter: drop-shadow(0 20px 60px rgba(0, 0, 0, 0.4));
            "></canvas>
        </div>

    </div>

    <script src="../site/public/emotive-engine.js"></script>

    <script>
        /**
         * HERO BANNER INITIALIZATION
         *
         * This shows how to configure the mascot for wide banner formats.
         * Key differences from standard setup:
         * - Wide canvas dimensions (1280x400 vs 400x400)
         * - Larger scale for visibility (2.5x core, 2x particles)
         * - No containment so particles fill entire banner
         * - Disabled idle behaviors for predictable capture
         */

        let mascot = null;
        let currentIndex = 0;

        // STEP 1: Initialize mascot for banner size
        async function initMascot() {
            const canvas = document.getElementById('mascot-canvas');
            const EmotiveMascot = window.EmotiveMascot?.default || window.EmotiveMascot;

            if (!EmotiveMascot) {
                console.error('âŒ EmotiveMascot not loaded');
                return null;
            }

            // Set wide banner dimensions
            canvas.width = 1280;
            canvas.height = 400;

            // Create mascot optimized for banner capture
            const mascot = new EmotiveMascot({
                canvasId: 'mascot-canvas',
                targetFPS: 60,                  // Smooth for GIF capture
                enableAudio: false,
                soundEnabled: false,
                maxParticles: 150,              // Plenty for wide banner
                defaultEmotion: 'neutral',
                enableGazeTracking: false,      // No interaction for capture
                enableIdleBehaviors: false      // Predictable animations only
            });

            await mascot.init(canvas);

            // Configure particle system for full banner
            mascot.setParticleSystemCanvasDimensions(1280, 400);

            // Remove containment - particles can move across entire banner
            mascot.setContainment(null, 2.5);

            // Configure backdrop glow for depth
            mascot.setBackdrop({
                enabled: true,
                radius: 3.5,              // Large glow
                intensity: 0.9,           // Bright
                blendMode: 'normal',
                falloff: 'smooth',
                edgeSoftness: 0.95,
                coreTransparency: 0.25,
                responsive: true
            });

            // Scale up for banner visibility
            mascot.setScale({
                core: 2.5,         // 2.5x larger core
                particles: 2.0     // 2x larger particles
            });

            // Center in banner
            mascot.setPosition(0, 0, 0);

            mascot.start();
            console.log('âœ… Banner mascot initialized');

            return mascot;
        }

        /**
         * ANIMATION SEQUENCE CONFIGURATION
         *
         * Each step coordinates 3 actions with timing:
         * 1. Emotion change (immediate)
         * 2. Shape morph (200ms delay)
         * 3. Gesture animation (400ms delay)
         *
         * Total loop: ~13 seconds for seamless GIF
         */
        const emotionSequence = [
            { emotion: 'joy',      shape: 'sun',   gesture: 'bounce',  duration: 2200 },
            { emotion: 'excited',  shape: 'solar', gesture: 'spin',    duration: 2000 },
            { emotion: 'love',     shape: 'heart', gesture: 'pulse',   duration: 2200 },
            { emotion: 'surprise', shape: 'star',  gesture: 'expand',  duration: 1800 },
            { emotion: 'calm',     shape: 'moon',  gesture: 'breathe', duration: 2000 },
            { emotion: 'focused',  shape: 'lunar', gesture: 'glow',    duration: 2200 }
        ];

        // STEP 2: Run animation sequence
        function cycleEmotions() {
            if (!mascot) return;

            const step = emotionSequence[currentIndex];

            // Apply emotion change
            mascot.setEmotion(step.emotion);
            console.log(`â–¶ ${step.emotion.toUpperCase()}`);

            // Morph shape after 200ms (gives emotion time to start)
            if (step.shape) {
                setTimeout(() => {
                    mascot.morphTo(step.shape);
                    console.log(`  â†’ Shape: ${step.shape}`);
                }, 200);
            }

            // Trigger gesture after 400ms (after morph begins)
            if (step.gesture) {
                setTimeout(() => {
                    mascot.express(step.gesture);
                    console.log(`  â†’ Gesture: ${step.gesture}`);
                }, 400);
            }

            // Move to next step (loops back to 0)
            currentIndex = (currentIndex + 1) % emotionSequence.length;

            // Schedule next emotion change
            setTimeout(cycleEmotions, step.duration);
        }

        // STEP 3: Start the sequence
        initMascot().then(m => {
            mascot = m;
            if (mascot) {
                console.log('ðŸŽ¬ Starting animation sequence...');
                console.log('ðŸ“¹ Ready for screen capture!');
                cycleEmotions();
            }
        });
    </script>
</body>
</html>
