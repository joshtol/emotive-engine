<!DOCTYPE html>
<!--
  HERO BANNER CAPTURE FOR GITHUB README - PURE VISUAL

  Purpose: Generate animated GIF header (1280x400px) for README.md
  Features:
  - Pure visual banner (logo + animated mascot only, no text overlay)
  - Mascot cycles through 6 emotions (joy, excited, love, surprise, calm, focused)
  - Shape morphing (sun, solar, heart, star, moon, lunar)
  - Gesture animations (bounce, spin, pulse, expand, breathe, glow)
  - Backdrop glow effect for depth
  - Large particles (2x scale) bouncing across full banner
  - Aurora background with brand color gradients
  - Seamless ~13 second loop

  Composition:
  - Logo: Top-left corner (200px, subtle)
  - Mascot: Centered (2.5x scale with backdrop)
  - Particles: 2x scale, full banner movement
  - Background: Dark with aurora gradients

  How to capture:
  1. Open this file in Chrome/Edge at 100% zoom
  2. Use ScreenToGif - record exactly 1280x400px region
  3. Record for ~13 seconds (one complete emotion cycle)
  4. Optimize GIF (aim for <2MB)
  5. Save as: assets/hero-banner.gif
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1280, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Emotive Engine - Hero Banner Capture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            width: 1280px;
            height: 400px;
            margin: 0;
            padding: 0;
            overflow: hidden;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
            background: #FFFFFF;
        }

        /* Banner container */
        .banner {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg,
                #0a0a1a 0%,
                #16213e 50%,
                #1a1a2e 100%
            );
            position: relative;
            overflow: visible; /* Allow glow effects to extend beyond */
            border: 4px solid #FFFFFF;
            border-radius: 12px;
            box-sizing: border-box;
        }

        /* Simplified aurora - less competing, more supporting */
        .color-wash {
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            pointer-events: none;
            opacity: 0.25; /* Reduced from 0.35 - more subtle */
            transition: background 3s cubic-bezier(0.4, 0, 0.2, 1); /* Slower transition */
            z-index: 1;
            filter: blur(100px); /* More blur = softer */
            background: radial-gradient(circle at 50% 50%,
                rgba(221, 74, 154, 0.15) 0%,   /* Reduced intensity */
                rgba(64, 144, 206, 0.10) 30%,
                rgba(132, 207, 197, 0.06) 60%,
                transparent 100%
            );
        }

        /* Floating particles layer */
        .particle-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }

        .particle {
            position: absolute;
            border-radius: 50%;
            opacity: 0;
            transition: all 1.2s ease-out;
        }

        .particle.active {
            opacity: 1;
        }

        /* Simple logo - top left corner, minimal */
        .logo-wrapper {
            position: absolute;
            top: 30px;
            left: 40px;
            z-index: 10;
            filter: drop-shadow(0 4px 20px rgba(132, 207, 197, 0.3));
        }

        .logo-wrapper img {
            width: 200px;
            height: auto;
            filter: brightness(0) invert(1);
            opacity: 0.9;
        }


    </style>
</head>
<body>
    <div class="banner">
        <div class="color-wash" id="color-wash"></div>
        <div class="particle-layer" id="particle-layer"></div>

        <!-- Simple logo in corner -->
        <div class="logo-wrapper">
            <img src="./assets/emotive-engine-full-BW.svg" alt="Emotive Engine" class="logo">
        </div>

        <!-- Mascot container - fixed, full banner size -->
        <div id="mascot-container" style="
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 5;
        ">
            <canvas id="mascot-canvas" style="
                width: 100%;
                height: 100%;
                filter: drop-shadow(0 20px 60px rgba(0, 0, 0, 0.4));
            "></canvas>
        </div>

    </div>

    <script src="../site/public/emotive-engine.js"></script>

    <script>
        // Initialize mascot properly
        async function initMascot() {
            const canvas = document.getElementById('mascot-canvas');
            const EmotiveMascot = window.EmotiveMascot?.default || window.EmotiveMascot;

            if (!EmotiveMascot) {
                console.error('EmotiveMascot not found');
                return null;
            }

            // Set canvas dimensions to match banner
            canvas.width = 1280;
            canvas.height = 400;

            const mascot = new EmotiveMascot({
                canvasId: 'mascot-canvas',
                targetFPS: 60,
                enableAudio: false,
                soundEnabled: false,
                maxParticles: 150,
                defaultEmotion: 'neutral',
                enableGazeTracking: false,
                enableIdleBehaviors: false
            });

            await mascot.init(canvas);

            // Set particle system dimensions to match full banner
            mascot.setParticleSystemCanvasDimensions(1280, 400);

            // Remove particle containment - let them move freely across entire banner
            mascot.setContainment(null, 2.5);

            // Configure backdrop for depth and polish (like use cases)
            mascot.setBackdrop({
                enabled: true,
                radius: 3.5,
                intensity: 0.9,
                blendMode: 'normal',
                falloff: 'smooth',
                edgeSoftness: 0.95,
                coreTransparency: 0.25,
                responsive: true
            });

            // Scale mascot - larger core AND larger particles
            mascot.setScale({
                core: 2.5,
                particles: 2.0  // Bigger particles!
            });

            // Position at perfect center - no text to balance
            mascot.setPosition(0, 0, 0);

            mascot.start();

            return mascot;
        }

        let mascot = null;
        initMascot().then(m => {
            mascot = m;
            if (mascot) {
                startAnimationSequence();
            }
        });

        // Emotion config with gestures for wow factor
        const emotionSequence = [
            { emotion: 'joy', shape: 'sun', gesture: 'bounce', duration: 2200 },
            { emotion: 'excited', shape: 'solar', gesture: 'spin', duration: 2000 },
            { emotion: 'love', shape: 'heart', gesture: 'pulse', duration: 2200 },
            { emotion: 'surprise', shape: 'star', gesture: 'expand', duration: 1800 },
            { emotion: 'calm', shape: 'moon', gesture: 'breathe', duration: 2000 },
            { emotion: 'focused', shape: 'lunar', gesture: 'glow', duration: 2200 }
        ];

        let currentIndex = 0;

        function cycleEmotions() {
            if (!mascot) return;

            const item = emotionSequence[currentIndex];

            // Update mascot emotion
            mascot.setEmotion(item.emotion);

            // Morph shape
            if (item.shape) {
                setTimeout(() => mascot.morphTo(item.shape), 200);
            }

            // Trigger gesture for wow factor
            if (item.gesture) {
                setTimeout(() => mascot.express(item.gesture), 400);
            }

            currentIndex = (currentIndex + 1) % emotionSequence.length;
            setTimeout(cycleEmotions, item.duration);
        }

        function startAnimationSequence() {
            cycleEmotions();
        }
    </script>
</body>
</html>
